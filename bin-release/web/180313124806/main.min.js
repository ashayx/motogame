var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),DaoJu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createBitmap=function(t,e){void 0===e&&(e=!1);var i=new egret.Bitmap(RES.getRes(t));return e&&(i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2),i},e}(egret.Sprite);__reflect(DaoJu.prototype,"DaoJu");var Page=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStageFunc,e),e}return __extends(e,t),e.prototype.onAddToStageFunc=function(){this.width=this.stage.stageWidth,this.height=this.stage.stageHeight,this.x=this.anchorOffsetX=this.width/2,this.y=this.anchorOffsetY=this.height/2,this.onPreInit()},e.prototype.onPreInit=function(t){void 0===t&&(t=!0),this.touchEnabled=!0;var e=new egret.Shape;e.graphics.beginFill(0,.01),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this.addChild(e),t&&this.init()},e.prototype.changePage=function(t){var e=this;if(null!=this.parent){var i=function(t){for(var e=0;e<t.numChildren;e++)egret.Tween.removeTweens(t.getChildAt(e)),null!=t.mask&&(t.mask.parent.removeChild(t.mask),t.mask=null),t instanceof egret.DisplayObjectContainer&&i(t.getChildAt(e)),t instanceof egret.MovieClip&&t.stop()};i(this),t.alpha=0,t.scaleX=t.scaleY=1.3,this.parent.addChild(t),egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1},500,egret.Ease.cubicOut).call(function(){null!=e.parent&&e.parent.removeChild(e)},this)}},e.prototype.createBitmap=function(t,e){void 0===e&&(e=!1);var i=new egret.Bitmap(RES.getRes(t));return e&&(i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2),i},e.prototype.createBtn=function(t,e){var i=this.createBitmap(t,!0);return i.x=this.width/2,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){CommonUtil.buttonTap(i,function(){e&&null!=e&&e()})},this),i},e}(egret.DisplayObjectContainer);__reflect(Page.prototype,"Page");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),soundManager.play("bgm"),e}return __extends(e,t),e.prototype.onAddToStage=function(t){var e=this;this.width=this.stage.stageWidth,this.height=this.stage.stageHeight,egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),$.ajax({url:"./resource/default.res.json",dataType:"json",success:function(t){e.onConfigComplete(t)}})},e.prototype.onConfigComplete=function(t){var e={groups:[{keys:"",name:"preload"}],resources:[]};e.resources=t.resources;for(var i=0;i<e.resources.length;i++)e.groups[0].keys+=","+e.resources[i].name;RES.parseConfig(e,"./resource/"),RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.loadingView=new LoadingUI,this.addChild(this.loadingView)},e.prototype.onResourceLoadComplete=function(t){var e=this;"preload"==t.groupName&&(this.loadingView.ok(function(){e.removeChild(e.loadingView),e.createGameScene()}),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this))},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){this.addChild(new WelcomePage)},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var ResultPage=function(t){function e(e){var i=t.call(this)||this;return i.score=0,i.openid=0,i.highestScore=0,i.money=0,i.score=e,i.openid=wxCom.user.openid,i}return __extends(e,t),e.prototype.init=function(){var t=this,e=(console.log.bind(console),this.createBitmap("resultbg"));e.height=this.height;var i=this.createBitmap("result.logo");i.anchorOffsetX=i.width/2,i.x=this.width/2,i.y=.03*this.height;var a=this.createBitmap("result.phone",!0);a.x=this.width/2,a.y=.28*this.height;var h=new egret.BitmapText;h.font=RES.getRes("rtext.fnt"),h.width=this.width,h.height=150,h.anchorOffsetY=h.height/2,h.textAlign=egret.HorizontalAlign.CENTER,h.verticalAlign=egret.VerticalAlign.MIDDLE,h.y=.5*this.height,0===this.score?this.money=0:this.score<80?this.money=20:this.score<200?this.money=50:this.money=200,$.post("http://h5.sjzzimu.com/McHouServ/Choice/kingsman_addScore.do",{openid:this.openid,score:this.score},function(e){var i=JSON.parse(e);t.highestScore=i.score,h.text="本次获得"+t.score+"积分\n当前最高分为"+t.highestScore+"分\n可兑换"+t.money+"元代金券"});var o=this.createBitmap("result.tip",!0);o.x=this.width/2,o.y=h.y+h.anchorOffsetY+20;var n=new egret.Sprite;n.width=280,n.height=340,n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.x=this.width/2,n.y=.82*this.height;var s=new egret.Sprite;s.alpha=0;var r=this.createBitmap("result.selectbg"),l=this.createBitmap("result.selecttitle");l.x=(r.width-l.width)/2,l.y=30;var d=this.createBitmap("result.selecttip");d.x=(r.width-d.width)/2,d.y=60,d.alpha=0,d.scaleX=d.scaleY=1.3;var c=this.createBitmap("result.youhuima");c.x=(r.width-c.width)/2-120,c.y=90,c.alpha=0;var g=this.createBtn("result.yes",function(){$.post("http://h5.sjzzimu.com/McHouServ/Choice/kingsman_lottert.do",{openid:t.openid,score:t.score},function(e){var i=JSON.parse(e);console.log("优惠券",i),-1==i.code||1==i.code?($("#money").html(i.couponnum),t.money=i.parvalue):2==i.code&&(t.money=0,$("#money").html("您还没有获得"))}),s.removeChild(g),s.removeChild(p),c.alpha=1,d.alpha=1,m.alpha=1,u.alpha=1,g.touchEnabled=!0,m.touchEnabled=!0,u.touchEnabled=!0,$("#money").fadeIn()});g.x=r.width/2-g.width-30;var p=this.createBtn("result.no",function(){p.touchEnabled=!0,egret.Tween.get(s).to({alpha:0},500),$("#money").fadeOut()});p.x=r.width/2+p.width+30,g.y=p.y=150;var u=this.createBtn("result.wait",function(){u.touchEnabled=!0,window.location.href="http://www.motorola.com.cn/store/74.html"});u.touchEnabled=!1,u.x=r.width/2-u.width-10,u.alpha=0;var m=this.createBtn("result.now",function(){m.touchEnabled=!0,egret.Tween.get(s).to({alpha:0},500),$("#money").fadeOut()});m.touchEnabled=!1,m.x=r.width/2+m.width+10,m.alpha=0,u.y=m.y=150,s.x=(this.width-r.width)/2,s.y=.4*this.height;var f=document.body,y=f.clientWidth*(c.x+s.x+70)/this.width,w=f.clientHeight*(c.y+s.y)/this.height-5;$("#money").css({left:y,top:w});var x=this.createBtn("result.usejifen",function(){x.touchEnabled=!0,v.x=0});x.x=this.width-x.width-20,x.y=this.height-x.height-30;var v=this.createBitmap("jifenbg");v.width=this.width,v.height=this.height,v.x=-3e3,v.touchEnabled=!0,v.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){v.x=-3e3},this);var C=new egret.Sprite;C.x=-3e3,C.touchEnabled=!0,C.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){C.x=-3e3},this);var E=this.createBitmap("sharepage");E.width=this.width,E.height=this.height;var b=this.createBitmap("result.sharelight");b.y=0,b.x=320;var B=this.createBitmap("result.sharephone");B.y=.35*this.height,B.x=218;var S=this.createBtn("result.btnagain",function(){t.changePage(new GamePage)}),T=this.createBtn("result.btninvite",function(){C.x=0,egret.Tween.get(b).to({alpha:0},1300).to({alpha:1},1300).to({alpha:0},1300).to({alpha:1},1300),T.touchEnabled=!0}),_=this.createBtn("result.btnuse",function(){egret.Tween.get(s).to({alpha:1},500),_.touchEnabled=!0,u.touchEnabled&&$("#money").fadeIn()}),O=this.createBtn("result.btnmore",function(){O.touchEnabled=!0,window.location.href="http://m.motorola.com.cn/store/166.html?hmsr=wechat&hmpl=171026&cid=sqgc2907"});S.x=T.x=_.x=O.x=n.width/2,S.y=40,T.y=120,_.y=200,O.y=280,n.addChild(S),n.addChild(T),n.addChild(_),n.addChild(O),s.addChild(r),s.addChild(l),s.addChild(d),s.addChild(c),s.addChild(g),s.addChild(p),s.addChild(m),s.addChild(u),C.addChild(E),C.addChild(b),C.addChild(B),this.addChild(e),this.addChild(a),this.addChild(i),this.addChild(o),this.addChild(h),this.addChild(n),this.addChild(s),this.addChild(x),this.addChild(C),this.addChild(v);for(var R=0;R<n.numChildren;R++){var D=n.getChildAt(R);egret.Tween.get(D).to({alpha:0,y:D.y-50},1).wait(500+300*R).to({alpha:1,y:D.y},500,egret.Ease.backOut)}},e}(Page);__reflect(ResultPage.prototype,"ResultPage");var RulePage=function(t){function e(e){var i=t.call(this)||this;return i.callback=e,i}return __extends(e,t),e.prototype.init=function(){var t=this,e=new egret.Shape;e.graphics.beginFill(0,.5),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill();var i=new egret.Sprite,a=this.createBitmap("rule.bg3");i.width=a.width,i.height=a.height,i.anchorOffsetX=a.width/2,i.anchorOffsetY=a.height/2,i.x=this.width/2,i.y=.4*this.height;var h=this.createBitmap("rule.bg4");egret.Tween.get(h,{loop:!0}).to({alpha:0},500).to({alpha:1},500);var o=new egret.BitmapText;o.width=300,o.height=300,o.anchorOffsetX=o.width/2,o.anchorOffsetY=o.height/2,o.alpha=0,o.font=RES.getRes("dtime.fnt"),o.text="3",o.x=this.width/2,o.y=this.height/2,o.textAlign=egret.HorizontalAlign.CENTER,o.verticalAlign=egret.VerticalAlign.MIDDLE;var n=this.createBtn("rule.btn",function(){egret.Tween.removeTweens(i),egret.Tween.removeTweens(r),egret.Tween.get(i).to({y:i.y-200,alpha:0},500,egret.Ease.backIn),egret.Tween.get(r).to({alpha:0},500),o.scaleX=o.scaleY=2,playSound("dtime.m4a",1),egret.Tween.get(o).to({scaleX:1,scaleY:1,alpha:1},500).wait(300).to({scaleX:2,scaleY:2,alpha:0},200).call(function(){o.text="2"}).to({scaleX:1,scaleY:1,alpha:1},500).wait(300).to({scaleX:2,scaleY:2,alpha:0},200).call(function(){o.text="1"}).to({scaleX:1,scaleY:1,alpha:1},500).wait(300).to({scaleX:2,scaleY:2,alpha:0},200).call(function(){t.parent.removeChild(t),t.callback()})});n.x=i.width/2,n.y=i.height-85,egret.Tween.get(n,{loop:!0}).to({scaleX:.8,scaleY:.8},500).to({scaleX:1,scaleY:1},500),i.addChild(a),i.addChild(h),i.addChild(n);var s=new dragonBones.EgretFactory;s.parseDragonBonesData(RES.getRes("rotatip_ske.json")),s.parseTextureAtlasData(RES.getRes("rotatip_tex.json"),RES.getRes("rotatip_tex.png"));var r=s.buildArmatureDisplay("rotatip");r.x=this.width/2,r.y=.85*this.height,r.alpha=0,r.animation.play("bling",-1),this.addChild(e),this.addChild(i),this.addChild(r),this.addChild(o),egret.Tween.get(i).to({alpha:0,y:i.y-200},1).wait(200).to({alpha:1,y:i.y},555,egret.Ease.backOut).call(function(){egret.Tween.get(r).to({alpha:.3},50).to({alpha:0},50).to({alpha:.7},50).to({alpha:.3},50).to({alpha:.7},50).to({alpha:1},50)})},e}(Page);__reflect(RulePage.prototype,"RulePage");var WelcomePage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this,e=this.createBitmap("welcomebgdark");e.scale9Grid=new egret.Rectangle(0,60,e.width,870),e.height=this.height;var i=this.createBitmap("welcomebg");i.scale9Grid=new egret.Rectangle(0,60,i.width,870),i.height=this.height,egret.Tween.get(i,{loop:!0}).to({alpha:.5},100).to({alpha:1},100).to({alpha:.5},100).to({alpha:1},100).wait(1e3);var a=this.createBitmap("welcome.title",!0);a.x=this.width/2,a.y=.2*this.height;var h=this.createBitmap("welcome.logo",!0);h.x=380,h.y=i.scale9Grid.y+.35*this.height;var o=this.createBitmap("welcome.msg1"),n=this.createBitmap("welcome.msg2");o.anchorOffsetX=84,o.anchorOffsetY=52,n.anchorOffsetX=28,o.x=.75*this.width,o.y=.6*this.height,n.x=.63*this.width,n.y=.72*this.height,o.scaleX=o.scaleY=o.alpha=n.scaleX=n.scaleY=n.alpha=0;var s=new egret.Sprite,r=this.createBitmap("welcome.ccar");s.width=r.width,s.height=r.height,s.anchorOffsetY=s.height,s.y=.85*this.height,s.x=50;var l=this.createBitmap("welcome.clight"),d=new dragonBones.EgretFactory;d.parseDragonBonesData(RES.getRes("kingsman_ske.json")),d.parseTextureAtlasData(RES.getRes("kingsman_tex.json"),RES.getRes("kingsman_tex.png"));var c=d.buildArmatureDisplay("kingsman");c.x=150,c.y=180,s.addChild(c),s.addChild(r),s.addChild(l),egret.Tween.get(c).to({alpha:0},1).wait(2e3).call(function(){c.armature.addEventListener(dragonBones.Event.COMPLETE,function(t){c.animation.play("idle",-1)},t),c.animation.play("up",1)}).to({alpha:1},500),egret.Tween.get(s).to({x:s.x+300,y:s.y-200,scaleX:.3,scaleY:.3,alpha:1},1).wait(-200).to({x:s.x,y:s.y,scaleX:1,scaleY:1,alpha:1},1500,egret.Ease.backOut).call(function(){egret.Tween.get(l,{loop:!0}).to({alpha:.7},500).to({alpha:1},500),egret.Tween.get(o).wait(500).to({scaleX:1,scaleY:1,alpha:1},500,egret.Ease.backOut),egret.Tween.get(n).wait(1500).to({scaleX:1,scaleY:1,alpha:1},500,egret.Ease.backOut).call(function(){egret.Tween.get(n,{loop:!0}).to({scaleX:.8,scaleY:.8},500).to({scaleX:1,scaleY:1},500),t.once(egret.TouchEvent.TOUCH_TAP,function(){t.changePage(new GamePage)},t)})}),this.addChild(e),this.addChild(i),this.addChild(s),this.addChild(o),this.addChild(n),this.addChild(h),this.addChild(a),egret.Tween.get(this).wait(1e3).call(function(){egret.Tween.get(h,{loop:!0}).to({alpha:.7},200).to({alpha:1},200).to({alpha:.7},100).to({alpha:1},100).wait(1e3)})},e}(Page);__reflect(WelcomePage.prototype,"WelcomePage");var CommonUtil=function(){function t(){}return t.buttonTap=function(t,e,i,a){RES.hasRes("buttonSound")&&playSound("buttonSound"),t.touchEnabled=!1,egret.Tween.removeTweens(t),egret.Tween.get(t).to({scaleX:t.scaleX-.2,scaleY:t.scaleY-.2},100).to({scaleX:t.scaleX,scaleY:t.scaleY},200).call(function(){a?e.apply(i,a):e()})},t.isExcellent=function(){return"iOS"!=egret.Capabilities.os&&"Windows PC"!=egret.Capabilities.os&&"Mac OS"!=egret.Capabilities.os||"webgl"!=egret.Capabilities.renderMode?!1:!0},t.sortRandomArray=function(t){t.sort(function(){return.5-Math.random()}),t.sort(function(){return.5-Math.random()}),t.sort(function(){return.5-Math.random()}),t.sort(function(){return.5-Math.random()})},t.ISDEBUGGING=!1,t}();__reflect(CommonUtil.prototype,"CommonUtil"),playSound=function(t,e,i){if(RES.hasRes(t)&&!soundManager.mute){(void 0==e||null==e)&&(e=1);try{var a=RES.getRes(t).play(0,e);return i&&null!=i&&a.addEventListener(egret.Event.SOUND_COMPLETE,i,null),a}catch(h){console.info(h)}}};var EUtil=function(){function t(){}return t.tear=function(e,i,a){var h=this;void 0===i&&(i=1);var o,n;if(t.tearCfg[e.hashCode.toString()]&&null!=t.tearCfg[e.hashCode.toString()])n=t.tearCfg[e.hashCode.toString()].box,o=t.tearCfg[e.hashCode.toString()].partArr;else{n=new egret.Sprite,n.width=e.width,n.height=e.height,n.scaleX=e.scaleX,n.scaleY=e.scaleY,n.rotation=e.rotation,n.anchorOffsetX=e.anchorOffsetX,n.anchorOffsetY=e.anchorOffsetY,n.x=e.x,n.y=e.y,o=[];for(var s=0,r=0;s<e.height;s+=r){r=Math.ceil(1+Math.ceil(5*Math.random())),s+r>e.height&&(r=e.height-s);var l=new egret.RenderTexture;l.drawToTexture(e,new egret.Rectangle(0,s,e.width,r));var d=new egret.Bitmap(l);d.y=s,d.filters=[],n.addChild(d),o.push(d)}t.tearCfg[e.hashCode.toString()]={},t.tearCfg[e.hashCode.toString()].box=n,t.tearCfg[e.hashCode.toString()].partArr=o}var c=function(){var t=e.parent.getChildIndex(e);e.parent.addChildAt(n,t),e.parent.removeChild(e);var s=1,r=function(){return i>0&&s++>i?(egret.Tween.removeTweens(n),n.parent.addChildAt(e,t),n.parent.removeChild(n),void(a&&a())):void 0},l=100+Math.random()+200;egret.Tween.get(n,{loop:!0}).call(r).wait(100).call(function(){for(var t=function(t){var e=o[t];egret.Tween.removeTweens(e),egret.Tween.get(e).to({x:e.x-50+100*Math.random(),alpha:.2+.8*Math.random()},.15*l).call(function(t){if(!(Math.random()>.5)){for(var e=[],i=0;20>i;i++)e.push(Math.random());t.filters.push(new egret.ColorMatrixFilter(e))}},h,[e]).to({x:e.x-20+40*Math.random(),alpha:.3+.7*Math.random()},.2*l).to({x:e.x-10+20*Math.random(),alpha:.3+.7*Math.random()},.1*l).call(function(){e.filters=[]}).to({x:e.x,alpha:e.alpha,scaleX:e.scaleX,scaleY:e.scaleY},l)},e=0;e<o.length;e++)t(e)}).wait(l/2).to({alpha:.5*n.alpha},50).wait(50).to({alpha:n.alpha},50).wait(l).call(r).wait(5*l)};e.parent&&null!=e.parent?c():e.once(egret.Event.ADDED_TO_STAGE,c,this)},t.tearCfg={},t}();__reflect(EUtil.prototype,"EUtil");var GamePage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isOver=!1,e.timeNum=60,e.addSpeedNum=30,e.eatJinbi=!1,e.gamebgIndex=1,e}return __extends(e,t),e.prototype.init=function(){var t=this;this.setUp(),this.scene=new egret.DisplayObjectContainer,this.sceneBoxDown=this.creatSceneBox("bigbg"),this.sceneBoxTop=this.creatSceneBox("bigbg"),this.sceneBoxTop.y=-7*this.height+10,this.DaoJubox=this.createDaoJuBox(),this.tip=this.createBitmap("game.warning"),this.tip.x=150,this.tip.y=100,this.tip.width=60,this.tip.height=60,this.tip.alpha=0,this.uiBox=this.createUiBox(),this.carBox=this.createCarBox("game.enemycar"),this.enemycarBox=this.createCarBox("game.mycar"),this.enemycarBox.y=this.height,this.scene.addChild(this.sceneBoxTop),this.scene.addChild(this.sceneBoxDown),this.scene.addChild(this.DaoJubox),this.scene.addChild(this.tip),this.scene.addChild(this.carBox),this.addChild(this.scene),this.addChild(this.uiBox),this.addChild(this.enemycarBox);var e=new egret.DeviceOrientation;e.addEventListener(egret.Event.CHANGE,this.onOrientation,this),this.orientation=e;var i=new egret.Timer(1e3/60,-1);i.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),i.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.gameLoopTimer=i;var a=new RulePage(function(){i.start(),e.start()});this.addChild(a),window.addEventListener("keydown",function(e){37==e.keyCode?t.carBox.x-=60:39==e.keyCode&&(t.carBox.x+=60)})},e.prototype.setUp=function(){FANG=!1,SCORE=0,BLOOD=2,this.FULLOFBLOOD=BLOOD,SPEED=10,USETIME=0,mowanScene=!1,moyanTip=!1,clearDaoju=!1,moyanTipNum=0,this.tipRange=2500,this.removeRange=1300,this.DaoJuSceneIndex=0,log=console.log.bind(console)},e.prototype.timerFunc=function(){this.isOver||(this.timeNum--,this.enemycarBox.x=this.carBox.x,this.zhaozi&&(this.zhaozi.x=this.carBox.x-(this.zhaozi.width-this.carBox.width)/2),this.yinbo&&(this.yinbo.x=this.carBox.x+this.carBox.width/2),0===this.timeNum&&(USETIME++,this.timeNum=60,this.addSpeedNum--,0==this.addSpeedNum&&SPEED++),SPEED>=30&&(SPEED=30),this.moveSceneBox(),this.moveDaoJuBox(),this.carMoveCheck(),this.collideCheck(),this.addScore.text="累计积分："+SCORE,this.nowSpeed.text="当前速度："+SPEED+"/km",this.allTime.text="总共用时："+USETIME+"s",mowanScene&&(this.addDaoJuToScene(),mowanScene=!1),clearDaoju&&this.removeFrontDaoju(),0===BLOOD&&(log("die"),this.orientation.stop(),this.gameLoopTimer.stop(),this.isOver=!0,this.overScene=this.createOverScene(),this.addChild(this.overScene)),this.jiguang&&(this.jiguang.x=this.carBox.x+this.carBox.width/2))},e.prototype.moveSceneBox=function(){this.sceneBoxDown.y+=SPEED,this.sceneBoxTop.y+=SPEED,this.sceneBoxDown.y>=this.height&&(this.sceneBoxDown.y=-7*this.height+80),this.sceneBoxTop.y>=this.height&&(this.sceneBoxTop.y=-7*this.height+80)},e.prototype.moveDaoJuBox=function(){this.DaoJubox.y+=SPEED,0===this.DaoJubox.numChildren&&this.DaoJubox.y>=0&&(mowanScene=!1,this.eatJinbi&&(this.scene.removeChild(this.carBox),this.changeScene(),this.scene.addChild(this.carBox),this.eatJinbi=!1),this.addDaoJuToScene())},e.prototype.carMoveCheck=function(){var t=this.carBox.width;this.carBox.x<145?this.carBox.x=145:this.carBox.x+t>510&&(this.carBox.x=510-t)},e.prototype.collideCheck=function(){for(var t=0;t<this.DaoJubox.numChildren;t++){var e=this.DaoJubox.getChildAt(t);if(this.DaoJubox.y+e.y+e.height>=this.carBox.y&&this.DaoJubox.y+e.y<=this.carBox.y+this.carBox.height){if(this.carBox.x+this.carBox.width>e.x&&this.carBox.x<e.x+e.width){if(e.pz(this.DaoJubox),"Hinder"===e.key){if(!FANG){var i=this.HpLength*(1-BLOOD/this.FULLOFBLOOD);egret.Tween.get(this.cutHp).to({y:i},1e3)}egret.Tween.get(this.enemycarBox).to({y:this.height-120},500).to({y:this.height-50},500).wait(3e3).to({y:this.height},500),this.zhaozi&&(this.zhaozi.alpha-=.34,log(this.zhaozi.alpha),this.zhaozi.alpha<=0&&null!=this.zhaozi&&(FANG=!1,this.removeChild(this.zhaozi),this.zhaozi=null))}else"MoDian"===e.key?(this.zhaozi&&(this.removeChild(this.zhaozi),this.zhaozi=null),this.fangyu(this.carBox.x)):"MoYin"===e.key?this.yinboAni(this.carBox.x):"Gold"!=e.key&&this.changeCarBox(this.carBox.x,e.texture);log(BLOOD)}}else this.DaoJubox.y+e.y>=this.height&&null!=e&&this.DaoJubox.removeChild(e);moyanTip&&this.createTip(e),this.jiguang&&this.DaoJubox.y+e.y+e.height>=0&&"Hinder"===e.key&&this.DaoJubox.y+e.y+e.height<this.height-300&&this.jiguang.x+this.jiguang.width>e.x&&this.jiguang.x<e.x+e.width&&e&&(playSound("gamejiguang.wav",1),this.DaoJubox.removeChild(e),log("激光杀死")),this.yinbo&&null!=e&&this.DaoJubox.y+e.y+e.height>=this.yinbo.y-this.yinbo.width*this.yinbo.scaleX+100&&this.DaoJubox.y+e.y<=this.yinbo.y+this.yinbo.width*this.yinbo.scaleX-100&&e.x+e.width>=this.yinbo.x-this.yinbo.width*this.yinbo.scaleX&&e.x<=this.yinbo.x+this.yinbo.width*this.yinbo.scaleX&&"Hinder"==e.key&&(this.DaoJubox.removeChild(e),log("音波杀死"))}},e.prototype.createTip=function(t){this.DaoJubox.y+t.y+t.height>=-this.tipRange&&"Hinder"==t.key&&(playSound("game_warning",1),this.tip.x=t.x,egret.Tween.get(this.tip).to({alpha:1},500).to({alpha:0},500).to({alpha:1},500).to({alpha:0},500).to({alpha:1},500).to({alpha:0},500).to({alpha:1},500).to({alpha:0},500),moyanTipNum++),4===moyanTipNum&&(moyanTip=!1)},e.prototype.removeFrontDaoju=function(){clearDaoju=!1,this.jiguangAni(this.carBox.x+this.carBox.width/2)},e.prototype.fangyu=function(t){FANG=!0,this.zhaozi=this.createBitmap("game.fangyu"),this.zhaozi.x=t-(this.zhaozi.width-this.carBox.width)/2,this.zhaozi.y=this.height-420,this.zhaozi.alpha=1,this.addChild(this.zhaozi)},e.prototype.yinboAni=function(t){var e=this;this.yinbo=this.createBitmap("game.yinbo"),this.yinbo.anchorOffsetX=this.yinbo.width/2,this.yinbo.anchorOffsetY=this.yinbo.height/2,this.yinbo.x=t+this.carBox.width/2,this.yinbo.y=this.height-300,this.yinbo.scaleX=.005,this.yinbo.scaleY=.005,this.addChild(this.yinbo),egret.Tween.get(this.yinbo).to({scaleY:1.8,scaleX:1.8},1500).to({scaleY:.01,scaleX:.01},0).to({scaleY:1.8,scaleX:1.8},1500).to({scaleY:.01,scaleX:.01},0).to({scaleY:1.8,scaleX:1.8},1500).call(function(){e.removeChild(e.yinbo),e.yinbo=null})},e.prototype.timerComFunc=function(){console.log("计时结束")},e.prototype.onOrientation=function(t){this.carBox.x+=t.gamma,this.carMoveCheck()},e.prototype.createCarBox=function(t){var e=new egret.Sprite;e.y=this.height-300,e.x=180;var i=this.createBitmap(t);e.width=i.width,e.height=i.height;var a=this.createBitmap("game.lighting");return a.x=-(a.width-i.width)/2-10,a.y=-a.height+20,egret.Tween.get(a,{loop:!0}).to({alpha:0},500).to({alpha:1},500).to({alpha:0},500).to({alpha:1},500).wait(3e3),e.addChild(a),e.addChild(i),e},e.prototype.changeCarBox=function(t,e){var i=this;egret.Tween.get(this.carBox).call(function(){i.scene.removeChild(i.carBox),i.carBox=i.createCarBox(e),i.carBox.x=t,i.scene.addChild(i.carBox)}).to({alpha:0},150).to({alpha:1},150)},e.prototype.creatSceneBox=function(t){var e=new egret.Sprite;e.y=-3*this.height;var i=this.createBitmap(t);return i.width=this.width,i.height=4*this.height,e.addChild(i),e},e.prototype.createDaoJuBox=function(){var t=new egret.Sprite;t.height=8*this.height,t.y=-7*this.height;var e=this.randomBetwen(1,4);if(mowanScene)this.changeScene(),this.createMowanScene(t);else{if(0===this.DaoJuSceneIndex){if(100>e){var i=new MoYin;i.x=295,i.y=3e3,t.addChild(i)}}else if(1===this.DaoJuSceneIndex){if(0!=e){var a=new MoDian;a.x=295,a.y=2e3,t.addChild(a)}if(0!=e){var h=new MoYing;h.x=195,h.y=3500,t.addChild(h)}var o=new MoYan;o.x=195,o.y=5e3,t.addChild(o)}else if(2===this.DaoJuSceneIndex){var n=new MoLun;if(n.x=295,n.y=6500,t.addChild(n),100>e){var s=new MoWan;s.x=195,s.y=1600,t.addChild(s)}}for(var r=0;11>r;r++){var l=new Hinder;l.x=this.randomBetwen(165,395),l.y=650*r,t.addChild(l)}}return t},e.prototype.jiguangAni=function(t){var e=this;this.jiguang=this.createBitmap("game.jiguang"),this.jiguang.height=this.height-300,this.jiguang.x=t,this.jiguang.anchorOffsetX=this.jiguang.width/2,this.jiguang.anchorOffsetY=this.height-300,this.jiguang.x+=this.jiguang.anchorOffsetX,this.jiguang.y+=this.jiguang.anchorOffsetY,this.jiguang.scaleY=.01,this.addChild(this.jiguang),egret.Tween.get(this.jiguang).to({scaleY:1,alpha:.7},200).call(function(){playSound("gamejiguang.wav",1)}).wait(5e3).call(function(){e.removeChild(e.jiguang),e.jiguang=null})},e.prototype.changeScene=function(){var t=this;this.gamebgIndex++,this.scene.removeChild(this.sceneBoxDown),this.scene.removeChild(this.sceneBoxTop),mowanScene?(this.sceneBoxDown=this.creatSceneBox("bigbg1"),this.sceneBoxTop=this.creatSceneBox("bigbg1")):(this.sceneBoxDown=this.creatSceneBox("bigbg"),this.sceneBoxTop=this.creatSceneBox("bigbg")),this.sceneBoxTop.y=-7*this.height+10,this.scene.addChild(this.sceneBoxDown),this.scene.addChild(this.sceneBoxTop);var e=new egret.Shape;e.graphics.beginFill(16777215),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),e.alpha=0,this.addChild(e),egret.Tween.get(e).to({alpha:1},400).to({alpha:0},400).call(function(){t.removeChild(e)})},e.prototype.createHpBar=function(){var t=new egret.Sprite;t.x=30,t.y=this.height-600;var e=this.createBitmap("game.hp"),i=this.createBitmap("game.hp");return this.HpLength=i.height,this.cutHp=new egret.Shape,this.cutHp.graphics.beginFill(16711680),this.cutHp.graphics.drawRect(0,0,i.width,i.height),this.cutHp.graphics.endFill(),i.mask=this.cutHp,t.addChild(e),t.addChild(i),t.addChild(this.cutHp),t},e.prototype.createMowanScene=function(t){this.eatJinbi=!0;for(var e=0;40>e;e++){var i=new Gold;i.x=this.randomBetwen(150,380),i.y=1200+150*e,t.addChild(i)}var a=new MoLun;a.x=295,a.y=1e3,t.addChild(a)},e.prototype.createUiBox=function(){var t=new egret.Sprite;t.width=.84*this.width,t.x=.08*this.width,t.y=.05*this.height;var e=this.createBitmap("game.topbar");e.width=t.width;var i=this.createBitmap("game.textbox");i.x=0,i.y=10;var a=this.createBitmap("game.textbox");a.x=190,a.y=10;var h=this.createBitmap("game.textbox");h.x=380,h.y=10,t.addChild(e),t.addChild(i),t.addChild(a),t.addChild(h),this.addScore=new egret.TextField,this.addScore.x=30,this.addScore.y=17,this.addScore.scaleX=this.addScore.scaleY=.6,this.addScore.text="累计积分："+SCORE,t.addChild(this.addScore),this.nowSpeed=new egret.TextField,this.nowSpeed.x=205,this.nowSpeed.y=17,this.nowSpeed.scaleX=this.nowSpeed.scaleY=.6,this.nowSpeed.text="当前速度："+SPEED+"/km",t.addChild(this.nowSpeed),this.allTime=new egret.TextField,this.allTime.x=410,this.allTime.y=17,this.allTime.scaleX=this.allTime.scaleY=.6,this.allTime.text="总共用时："+USETIME+"s",t.addChild(this.allTime);var o=this.createHpBar();return t.addChild(o),t},e.prototype.createOverScene=function(){var t=this,e=new egret.Sprite;e.width=this.width,e.height=this.height;var i=new egret.Shape;i.graphics.beginFill(0),i.graphics.drawRect(0,0,e.width,e.height),i.alpha=.6,i.graphics.endFill(),e.addChild(i);var a=this.createBitmap("game.gameover");return a.x=(this.width-a.width)/2,a.y=.3*this.height,e.addChild(a),e.touchEnabled=!0,e.once(egret.TouchEvent.TOUCH_TAP,function(){t.cutHp=null,t.changePage(new ResultPage(SCORE))},this),e},e.prototype.randomBetwen=function(t,e){return Math.floor(Math.random()*(e-t)+t)},e.prototype.addDaoJuToScene=function(){this.DaoJuSceneIndex++,this.DaoJuSceneIndex>=3&&(this.DaoJuSceneIndex=0),this.scene.removeChild(this.DaoJubox),this.DaoJubox=this.createDaoJuBox(),this.scene.addChild(this.DaoJubox)},e}(Page);__reflect(GamePage.prototype,"GamePage");var Timer=function(t){function e(e,i,a,h,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=2),void 0===h&&(h=null),void 0===o&&(o=null);var n=t.call(this,50,-1)||this;return n.beginTimeStamp=0,n.beginTime=0,n.currentTime=0,n.timerFunc=null,n.endTime=0,n.thisObj=null,n.decimalPoint=0,n.currentTime=e,n.thisObj=o,n.timerFunc=h,n.beginTime=e,n.endTime=i,n.decimalPoint=a,n.addEventListener(egret.TimerEvent.TIMER,n.timeTimerFunc,n),n}return __extends(e,t),e.prototype.start=function(){this.beginTimeStamp=(new Date).getTime(),t.prototype.start.call(this)},e.prototype.timeTimerFunc=function(){var t=Math.abs((this.beginTimeStamp-(new Date).getTime())/1e3),e="";e=this.endTime<0?t.toString():this.beginTime>this.endTime?(this.beginTime-t).toString():(this.endTime-t).toString(),e=parseFloat(e).toFixed(this.decimalPoint),this.decimalPoint>0&&"0"==e.substring(e.length-1)&&(e=e.substring(0,e.length-1)+"1"),this.currentTime.toString()!=e.toString()&&(this.currentTime=parseFloat(e),this.timerFunc.call(this.thisObj))},e}(egret.Timer);__reflect(Timer.prototype,"Timer");var LoadingUI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){var t=this;this.mb=new egret.Shape,this.mb.graphics.beginFill(0,1),this.mb.graphics.drawRect(0,0,this.width,this.height),this.mb.graphics.endFill(),this.anchorOffsetX=this.x=this.width/2,this.anchorOffsetY=this.y=this.height/2,this.textField=new egret.BitmapText,this.textField.width=this.width,this.textField.height=100,this.textField.anchorOffsetX=this.textField.width/2,this.textField.anchorOffsetY=this.textField.height/2,this.textField.x=.5*this.width,this.textField.textAlign=egret.HorizontalAlign.CENTER,this.textField.verticalAlign=egret.VerticalAlign.MIDDLE,RES.getResAsync("blackbg",function(){RES.getResAsync("loadingnum.fnt",function(){RES.getResAsync("loadingtopbg",function(){RES.getResAsync("loadingtopbg2",function(){RES.getResAsync("loading.title",function(){RES.getResAsync("loading.tip",function(){t.textField.font=RES.getRes("loadingnum.fnt"),t.textField.text="0%";var e=t.createBitmap("blackbg");e.width=t.width,e.height=t.height;var i=t.createBitmap("loadingtopbg");i.anchorOffsetY=i.height,i.y=.55*t.height;var a=t.createBitmap("loadingtopbg2");a.anchorOffsetY=i.anchorOffsetY,a.y=i.y,t.loadingtopbgMask=new egret.Shape,t.loadingtopbgMask.graphics.beginFill(0,1),t.loadingtopbgMask.graphics.drawRect(0,0,i.width,i.height),t.loadingtopbgMask.graphics.endFill(),t.loadingtopbgMask.anchorOffsetY=i.anchorOffsetY,t.loadingtopbgMask.y=i.y+t.loadingtopbgMask.height,t.loadingbg=i,t.loadingbg.mask=t.loadingtopbgMask,t.loadingtopbg=i,t.textField.y=i.y-i.height/2;var h=t.createBitmap("loading.title",!0);h.x=t.width/2,h.y=.6*t.height,t.title=h;var o=t.createBitmap("loading.tip",!0);o.x=t.width/2,o.y=.9*t.height,t.tip=o,t.addChild(e),t.addChild(t.loadingtopbgMask),t.addChild(a),t.addChild(i),t.addChild(o),t.addChild(h),t.addChild(t.textField),RES.loadGroup("preload")},t)},t)},t)},t)},t)},this)},e.prototype.setProgress=function(t,e){this.textField.text=Math.floor(t/e*100)+"%",egret.Tween.removeTweens(this.loadingtopbgMask),egret.Tween.get(this.loadingtopbgMask).to({y:this.loadingtopbg.y+this.loadingtopbgMask.height-this.loadingtopbgMask.height*t/e})},e.prototype.ok=function(t){var e=this;this.textField.alpha=0,this.tip.alpha=0,egret.Tween.removeTweens(this.loadingtopbg),egret.Tween.get(this.loadingtopbg).to({y:this.loadingtopbg.y+30},700),egret.Tween.get(this.title).to({y:this.title.y+30},500),t();var i=document.getElementById("vBox"),a=document.getElementById("v");a.poster="./resource/v.png";var h=this.createBtn("loading.btn",function(){var h=function(){i.style.display="block",a.style.display="block",soundManager.pauseAll(),e.addChild(e.mb);
var o=function(){i.style.display="none",a.style.display="none",$(a).remove(),soundManager.play("bgm"),soundManager.resumeAll(),a.removeEventListener("ended",o,!0),t&&(e.loadingbg.mask=null,t())};a.addEventListener("ended",o,!0),a.addEventListener("pause",function(){a.currentTime>=a.duration||(e.removeChild(e.mb),i.style.display="none",a.style.display="none",a.removeEventListener("ended",o,!0),e.once(egret.TouchEvent.TOUCH_BEGIN,function(){h()},e))},!0),a.play()};h()});h.once(egret.TouchEvent.TOUCH_BEGIN,function(){a.load()},this),h.x=this.width/2,h.y=.85*this.height,h.scaleX=h.scaleY=1.5,egret.Tween.get(h,{loop:!0}).to({scaleX:1.15,scaleY:1.15},500).to({scaleX:1.5,scaleY:1.5},500),this.addChild(h)},e}(Page);__reflect(LoadingUI.prototype,"LoadingUI");var EnemyCar=function(t){function e(){var e=t.call(this)||this;return e.key="EnemyCar",e.texture="game.enemycar",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.enemycar");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.lighting");e.x=-(e.width-t.width)/2-10,e.y=-e.height+20,egret.Tween.get(e,{loop:!0}).to({alpha:0},500).to({alpha:1},500).to({alpha:0},500).to({alpha:1},500),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("碰撞障碍"),playSound("game_eat_daoju.wav",1),t.removeChild(this),BLOOD--},e}(DaoJu);__reflect(EnemyCar.prototype,"EnemyCar");var Gold=function(t){function e(){var e=t.call(this)||this;return e.key="Gold",e.texture="game.gold",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.jinbi");this.addChild(t)},e.prototype.pz=function(t){console.log("吃金币"),playSound("eatjinbi",1),SCORE++,t.removeChild(this)},e}(DaoJu);__reflect(Gold.prototype,"Gold");var MoDian=function(t){function e(){var e=t.call(this)||this;return e.key="MoDian",e.texture="game.modian",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.modian");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.guang");e.x=-(e.width-t.width)/2,e.y=-(e.height-t.height)/2,e.anchorOffsetX=t.width/2,e.anchorOffsetY=t.height/2,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY,egret.Tween.get(e,{loop:!0}).to({alpha:0,scaleX:1.4,scaleY:1.4},800).to({alpha:1,scaleX:.9,scaleY:.9},800).to({alpha:0,scaleX:1.3,scaleY:1.3},800).to({alpha:1,scaleX:1,scaleY:1},800),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("加血"),playSound("game_eat_daoju.wav",1),t.removeChild(this)},e}(DaoJu);__reflect(MoDian.prototype,"MoDian");var MoLun=function(t){function e(){var e=t.call(this)||this;return e.key="MoLun",e.texture="game.molun",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.molun");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.guang");e.x=-(e.width-t.width)/2,e.y=-(e.height-t.height)/2,e.anchorOffsetX=t.width/2,e.anchorOffsetY=t.height/2,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY,egret.Tween.get(e,{loop:!0}).to({alpha:0,scaleX:1.4,scaleY:1.4},800).to({alpha:1,scaleX:.9,scaleY:.9},800).to({alpha:0,scaleX:1.3,scaleY:1.3},800).to({alpha:1,scaleX:1,scaleY:1},800),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("加速"),playSound("game_eat_daoju.wav",1),t.removeChild(this),SPEED+=3},e}(DaoJu);__reflect(MoLun.prototype,"MoLun");var MoWan=function(t){function e(){var e=t.call(this)||this;return e.key="MoWan",e.texture="game.mowan",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.mowan");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.guang");e.x=-(e.width-t.width)/2,e.y=-(e.height-t.height)/2,e.anchorOffsetX=t.width/2,e.anchorOffsetY=t.height/2,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY,egret.Tween.get(e,{loop:!0}).to({alpha:0,scaleX:1.4,scaleY:1.4},800).to({alpha:1,scaleX:.9,scaleY:.9},800).to({alpha:0,scaleX:1.3,scaleY:1.3},800).to({alpha:1,scaleX:1,scaleY:1},800),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("变换场景吃金币"),playSound("game_eat_daoju.wav",1),t.removeChild(this),mowanScene=!0},e}(DaoJu);__reflect(MoWan.prototype,"MoWan");var MoYan=function(t){function e(){var e=t.call(this)||this;return e.key="MoYan",e.texture="game.moyan",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.moyan");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.guang");e.x=-(e.width-t.width)/2,e.y=-(e.height-t.height)/2,e.anchorOffsetX=t.width/2,e.anchorOffsetY=t.height/2,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY,egret.Tween.get(e,{loop:!0}).to({alpha:0,scaleX:1.4,scaleY:1.4},800).to({alpha:1,scaleX:.9,scaleY:.9},800).to({alpha:0,scaleX:1.3,scaleY:1.3},800).to({alpha:1,scaleX:1,scaleY:1},800),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("预警"),playSound("game_eat_daoju.wav",1),t.removeChild(this),moyanTip=!0,moyanTipNum=0},e}(DaoJu);__reflect(MoYan.prototype,"MoYan");var MoYin=function(t){function e(){var e=t.call(this)||this;return e.key="MoYin",e.texture="game.moyin",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.moyin");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.guang");e.x=-(e.width-t.width)/2,e.y=-(e.height-t.height)/2,e.anchorOffsetX=t.width/2,e.anchorOffsetY=t.height/2,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY,egret.Tween.get(e,{loop:!0}).to({alpha:0,scaleX:1.4,scaleY:1.4},800).to({alpha:1,scaleX:.9,scaleY:.9},800).to({alpha:0,scaleX:1.3,scaleY:1.3},800).to({alpha:1,scaleX:1,scaleY:1},800),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("变音乐"),playSound("hellomoto",1),t.removeChild(this)},e}(DaoJu);__reflect(MoYin.prototype,"MoYin");var MoYing=function(t){function e(){var e=t.call(this)||this;return e.key="MoYing",e.texture="game.moying",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.moying");this.width=t.width,this.height=t.height;var e=this.createBitmap("game.guang");e.x=-(e.width-t.width)/2,e.y=-(e.height-t.height)/2,e.anchorOffsetX=t.width/2,e.anchorOffsetY=t.height/2,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY,egret.Tween.get(e,{loop:!0}).to({alpha:0,scaleX:1.4,scaleY:1.4},800).to({alpha:1,scaleX:.9,scaleY:.9},800).to({alpha:0,scaleX:1.3,scaleY:1.3},800).to({alpha:1,scaleX:1,scaleY:1},800),this.addChild(e),this.addChild(t)},e.prototype.pz=function(t){console.log("激光清屏"),t.removeChild(this),clearDaoju=!0},e}(DaoJu);__reflect(MoYing.prototype,"MoYing");var Hinder=function(t){function e(){var e=t.call(this)||this;return e.key="Hinder",e.texture="game.hinder",e.init(),e}return __extends(e,t),e.prototype.init=function(){var t=this.createBitmap("game.hinder");this.addChild(t)},e.prototype.pz=function(t){console.log("碰撞障碍"),playSound("game_hit",1),t.removeChild(this),FANG||BLOOD--},e}(DaoJu);__reflect(Hinder.prototype,"Hinder");